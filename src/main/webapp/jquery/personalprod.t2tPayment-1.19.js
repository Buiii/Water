(function(a){a&&(a=a.deps,a.addDependency("aralex.wordlimit","aralex.wordlimit-1.0.js,aralex.base-1.1.js,arale.aspect-1.0.js,arale.tmpl-1.0.js,arale.class-1.0.js,arale.event-1.1.js,arale.dom-1.1.js,arale.string-1.0.js,arale.hash-1.0.js,arale.array-1.1.js,arale.base-1.1.js".split(",")),a.addDependency("alipay.cardreview","alipay.cardreview-1.1.js,aralex.iframeshim-1.1.js,aralex.base-1.1.js,arale.aspect-1.0.js,arale.tmpl-1.0.js,arale.class-1.0.js,arale.event-1.1.js,arale.dom-1.1.js,arale.string-1.0.js,arale.hash-1.0.js,arale.array-1.1.js,arale.base-1.1.js".split(",")),
a.addDependency("alipay.personal.aside","alipay.personal.aside-1.3.js,aralex.tipdone-1.2.js,alipay.http-1.2.js,arale.http-1.2.js,arale.uri-1.0.js,arale.cookie-1.0.js,aralex.xbox-1.5.js,arale.fx-1.1.js,aralex.apop-1.1.js,aralex.base-1.1.js,arale.aspect-1.0.js,arale.tmpl-1.0.js,arale.class-1.0.js,arale.event-1.1.js,arale.dom-1.1.js,arale.string-1.0.js,arale.hash-1.0.js,arale.array-1.1.js,arale.base-1.1.js".split(",")),a.addDependency("arale.base",["arale.base-1.1.js"]),a.addDependency("aralex.autocomplete",
"aralex.autocomplete-1.6.js,alipay.http-1.2.js,arale.http-1.2.js,arale.uri-1.0.js,arale.cookie-1.0.js,aralex.base-1.1.js,arale.aspect-1.0.js,arale.tmpl-1.0.js,arale.class-1.0.js,arale.event-1.1.js,arale.dom-1.1.js,arale.string-1.0.js,arale.hash-1.0.js,arale.array-1.1.js,arale.base-1.1.js".split(",")),a.addDependency("arale.uri",["arale.uri-1.0.js","arale.base-1.1.js"]),a.addDependency("arale.hash",["arale.hash-1.0.js","arale.base-1.1.js"]),a.addDependency("alipay.droplist","alipay.droplist-1.1.js,aralex.base-1.1.js,arale.aspect-1.0.js,arale.tmpl-1.0.js,arale.class-1.0.js,arale.event-1.1.js,arale.dom-1.1.js,arale.string-1.0.js,arale.hash-1.0.js,arale.array-1.1.js,arale.base-1.1.js".split(",")),
a.addDependency("arale.http","arale.http-1.2.js,arale.uri-1.0.js,arale.cookie-1.0.js,arale.string-1.0.js,arale.hash-1.0.js,arale.array-1.1.js,arale.base-1.1.js".split(",")),a.addDependency("alipay.contacts","alipay.contacts-1.4.js,alipay.http-1.2.js,arale.http-1.2.js,arale.uri-1.0.js,arale.cookie-1.0.js,aralex.base-1.1.js,arale.aspect-1.0.js,arale.tmpl-1.0.js,arale.class-1.0.js,arale.event-1.1.js,arale.dom-1.1.js,arale.string-1.0.js,arale.hash-1.0.js,arale.array-1.1.js,arale.base-1.1.js".split(",")),
a.addDependency("arale.cookie",["arale.cookie-1.0.js"]),a.addDependency("aralex.xbox","aralex.xbox-1.5.js,arale.fx-1.1.js,aralex.base-1.1.js,arale.aspect-1.0.js,arale.tmpl-1.0.js,arale.class-1.0.js,arale.event-1.1.js,arale.dom-1.1.js,arale.string-1.0.js,arale.hash-1.0.js,arale.array-1.1.js,arale.base-1.1.js".split(",")),a.addDependency("aralex.apop","aralex.apop-1.1.js,aralex.base-1.1.js,arale.aspect-1.0.js,arale.tmpl-1.0.js,arale.class-1.0.js,arale.event-1.1.js,arale.dom-1.1.js,arale.string-1.0.js,arale.hash-1.0.js,arale.array-1.1.js,arale.base-1.1.js".split(",")),
a.addDependency("arale.dom",["arale.dom-1.1.js","arale.string-1.0.js","arale.hash-1.0.js","arale.array-1.1.js","arale.base-1.1.js"]),a.addDependency("arale.aspect",["arale.aspect-1.0.js","arale.base-1.1.js"]),a.addDependency("aralex.base","aralex.base-1.1.js,arale.aspect-1.0.js,arale.tmpl-1.0.js,arale.class-1.0.js,arale.event-1.1.js,arale.dom-1.1.js,arale.string-1.0.js,arale.hash-1.0.js,arale.array-1.1.js,arale.base-1.1.js".split(",")),a.addDependency("arale.tmpl",["arale.tmpl-1.0.js","arale.base-1.1.js"]),
a.addDependency("aralex.Accordion","aralex.Accordion-1.1.js,aralex.switchable-1.1.js,aralex.base-1.1.js,arale.aspect-1.0.js,arale.tmpl-1.0.js,arale.class-1.0.js,arale.event-1.1.js,arale.dom-1.1.js,arale.string-1.0.js,arale.hash-1.0.js,arale.array-1.1.js,arale.base-1.1.js".split(",")),a.addDependency("alipay.placeholder","alipay.placeholder-1.0.js,aralex.base-1.1.js,arale.aspect-1.0.js,arale.tmpl-1.0.js,arale.class-1.0.js,arale.event-1.1.js,arale.dom-1.1.js,arale.string-1.0.js,arale.hash-1.0.js,arale.array-1.1.js,arale.base-1.1.js".split(",")),
a.addDependency("aralex.validator.ClassicValidator","aralex.validator.ClassicValidator-1.7.js,aralex.validator.Validator-1.7.js,alipay.http-1.2.js,arale.http-1.2.js,arale.uri-1.0.js,arale.cookie-1.0.js,aralex.base-1.1.js,arale.aspect-1.0.js,arale.tmpl-1.0.js,arale.class-1.0.js,arale.event-1.1.js,arale.dom-1.1.js,arale.string-1.0.js,arale.hash-1.0.js,arale.array-1.1.js,arale.base-1.1.js".split(",")),a.addDependency("arale.string",["arale.string-1.0.js","arale.base-1.1.js"]),a.addDependency("aralex.validator.Validator",
"aralex.validator.Validator-1.7.js,alipay.http-1.2.js,arale.http-1.2.js,arale.uri-1.0.js,arale.cookie-1.0.js,aralex.base-1.1.js,arale.aspect-1.0.js,arale.tmpl-1.0.js,arale.class-1.0.js,arale.event-1.1.js,arale.dom-1.1.js,arale.string-1.0.js,arale.hash-1.0.js,arale.array-1.1.js,arale.base-1.1.js".split(",")),a.addDependency("arale.event","arale.event-1.1.js,arale.dom-1.1.js,arale.string-1.0.js,arale.hash-1.0.js,arale.array-1.1.js,arale.base-1.1.js".split(",")),a.addDependency("alipay.http","alipay.http-1.2.js,arale.http-1.2.js,arale.uri-1.0.js,arale.cookie-1.0.js,arale.string-1.0.js,arale.hash-1.0.js,arale.array-1.1.js,arale.base-1.1.js".split(",")),
a.addDependency("aralex.switchable","aralex.switchable-1.1.js,aralex.base-1.1.js,arale.aspect-1.0.js,arale.tmpl-1.0.js,arale.class-1.0.js,arale.event-1.1.js,arale.dom-1.1.js,arale.string-1.0.js,arale.hash-1.0.js,arale.array-1.1.js,arale.base-1.1.js".split(",")),a.addDependency("arale.array",["arale.array-1.1.js","arale.base-1.1.js"]),a.addDependency("aralex.iframeshim","aralex.iframeshim-1.1.js,aralex.base-1.1.js,arale.aspect-1.0.js,arale.tmpl-1.0.js,arale.class-1.0.js,arale.event-1.1.js,arale.dom-1.1.js,arale.string-1.0.js,arale.hash-1.0.js,arale.array-1.1.js,arale.base-1.1.js".split(",")),
a.addDependency("arale.fx","arale.fx-1.1.js,arale.dom-1.1.js,arale.string-1.0.js,arale.hash-1.0.js,arale.array-1.1.js,arale.base-1.1.js".split(",")),a.addDependency("personalprod.t2tPayment","personalprod.t2tPayment-1.19.js,aralex.wordlimit-1.0.js,alipay.cardreview-1.1.js,aralex.validator.ClassicValidator-1.7.js,alipay.personal.aside-1.3.js,aralex.autocomplete-1.6.js,aralex.tipdone-1.2.js,aralex.validator.Validator-1.7.js,aralex.Accordion-1.1.js,alipay.droplist-1.1.js,aralex.switchable-1.1.js,alipay.placeholder-1.0.js,alipay.contacts-1.4.js,alipay.http-1.2.js,arale.http-1.2.js,arale.uri-1.0.js,arale.cookie-1.0.js,aralex.xbox-1.5.js,aralex.iframeshim-1.1.js,arale.fx-1.1.js,aralex.apop-1.1.js,aralex.base-1.1.js,arale.aspect-1.0.js,arale.tmpl-1.0.js,arale.class-1.0.js,arale.event-1.1.js,arale.dom-1.1.js,arale.string-1.0.js,arale.hash-1.0.js,arale.array-1.1.js,arale.base-1.1.js".split(",")),
a.addDependency("arale.class",["arale.class-1.0.js","arale.base-1.1.js"]),a.addDependency("aralex.tipdone","aralex.tipdone-1.2.js,aralex.base-1.1.js,arale.aspect-1.0.js,arale.tmpl-1.0.js,arale.class-1.0.js,arale.event-1.1.js,arale.dom-1.1.js,arale.string-1.0.js,arale.hash-1.0.js,arale.array-1.1.js,arale.base-1.1.js".split(",")))})("undefined"==typeof arale?void 0:arale);var personalprod=personalprod||{};function show(a){a.removeClass("fn-hide")}function hide(a){a.addClass("fn-hide")}
personalprod.popup=function(a,d,b){null!=a&&(E.connect(a,"click",function(a){a.preventDefault()}),E.connect(a,"mouseover",function(){d.setPosition({left:a.getPosition(b).left-300,top:a.getPosition(b).top+16});show(d)}),E.connect(a,"mouseout",function(){var a=setTimeout(function(){hide(d)},100);E.connect(d,"mouseover",function(){show(d);a&&clearTimeout(a)});E.connect(d,"mouseout",function(){hide(d)})}))};
personalprod.isValidAmount=function(a){return!isNaN(parseFloat(a))&&1E9>parseFloat(a)&&/^\d+(\.\d{0,2})?$/.test(a)?!0:!1};
personalprod.calculateExtraFee=function(a){var d=$("extraFee"),b=$("extraFeeWrapper"),r=$("hiddenAccount").node.value,s=$("ipt-search-key").attr("userid");if(""==a)return 0<b.node.offsetWidth&&hide(b),!1;var i=personalprod.personalprodServer+"home/getTradeExtraFee.json";Loader.use("arale.http",function(){Ajax.jsonp(i,{success:function(a){var e=a.stat;"ok"==e?(a=a.fee,d.node.innerHTML=a,0<parseFloat(a)?b.removeClass("fn-hide"):b.addClass("fn-hide")):"fail"==e&&b.addClass("fn-hide")},data:{amount:a,
account:r,userId:s}})})};var cache_data={};personalprod.opent2tXbox=!1;
personalprod.AlipayAccountInput=function(a){function d(a){a.removeClass("fn-hide")}function b(a){a.addClass("fn-hide")}function r(a,c){var d=$$(".ui-tiptext",c)[0],b=$$(".ui-tiptext-arrowup",c)[0];c.attr("class","ui-tiptext-container ui-tiptext-container-"+a);d.attr("class","ui-tiptext ui-tiptext-"+a);b.attr("class","ui-tiptext-arrowup ui-tiptext-arrowup-"+a)}function s(a,b,p){d($("accountDisplayWrapper"));a?b&&0<b.length?(c.node.value=b+" ( "+a+" )",e.node.value=a):c.node.value=a:c.node.value=p}
var i=$("addFromContacts"),c=$("ipt-search-key"),e=$("hiddenAccount"),q=$("amount");$("amountExplain");var u=!1,l=null,o=this;c.attr("isDisplay",!0);seajs.use(["alipay/contacts/1.0.0/picker"],function(t){function e(t,k,g,m){b($("myContactsBox"));c.attr("userid",m);$("optUserId").node.value=m;c.node.value=g;c.hasClass(".ui-fm-placeholder")&&c.removeClass(".ui-fm-placeholder");i.node.innerHTML="\u91cd\u65b0\u9009\u62e9\u8054\u7cfb\u4eba";o.getAccountStatus(g,m,$("amount").attr("value"),function(){d(i)});
if(a.onContactSelected)a.onContactSelected({realname:t,nickname:k,account:g,userid:m});k=$("receiveNameAlert");g=$("receiveNameInput");m=$("receiveNameExplain");k&&g&&k.attr("checked")&&(g.node.value=t,g.node.focus(),g.attr("ui-form-explain2",""),m.node.innerHTML="")}$("myContactsBox");l=new t({parentNode:"#myContactsBox",appDomain:personalprod.personalprodServer,tradeApi:"/contacts/tradeGroup.json",matchApi:"/contacts/match.json",myContactsApi:"/contacts/getContactUser.json",tradeType:"transfer",
isShow:!0,selectType:"radio"});l.render();l.on("selected",function(a){e(a.attr("data-realname"),a.attr("data-nickname"),a.attr("data-account"),a.attr("data-userid"));$("amount").node.focus()});E.connect(i,"click",function(a){$("ipt-search-key").parent().removeClass("ui-form-error2");d($("myContactsBox"));l.show();a.preventDefault()})});Loader.use(["aralex.xbox","arale.http","aralex.autocomplete"],function(){E.connect([c],"change",function(){$("optUserId").node.value="";c.attr("userid","")});E.connect([c,
q],"blur",function(){personalprod.isSelect=!1;setTimeout(function(){if(u)u=!1;else if(!(0<$("myContactsBox").node.offsetWidth)){if(0==c.attr("value").length)b($("accountStatus")),d($("accountExplain"));else{var a=c.attr("userid")||$("optUserId").node.value,k=""==e.node.value?c.attr("value"):e.node.value,p=q.attr("value");if(arale.isIE()&&c.hasClass("ui-fm-placeholder"))return;o.getAccountStatus(k,a,p)}c.attr("isDisplay",!1)}},200)});(function(){var a=c.attr("userid")||$("optUserId").node.value,b=
""==e.node.value?c.attr("value"):e.node.value,d=q.attr("value");(!arale.isIE()||!c.hasClass("ui-fm-placeholder"))&&b&&o.getAccountStatus(b,a,d)})();E.connect(c,"click",function(a){v(!0);a.preventDefault()});E.connect("J-close-set","click",function(a){b($("myContactsBox"));a.preventDefault()});E.connect(c,"keydown",function(a){13==a.keyCode&&a.preventDefault()});E.connect(c,"keyup",function(){if(0==c.attr("value").length){var a=$("receiveNameInput"),b=$("receiveNameField"),d=$("receiveNameExplain");
a&&(a.node.value="",a.attr("ui-form-explain2",""),b&&b.removeClass("ui-form-error2"),d&&(d.node.innerHTML=""))}})});personalprod.isSelect=!1;var v=function(a){c.attr("isDisplay",!0);d(i);d(c);b($("accountStatus"));d($("accountExplain"));$("accountExplain2")&&b($("accountExplain2"));if(a&&(e.node.value&&(c.node.value=e.node.value),e.node.value="",c.node.focus(),!personalprod.isSelect))c.node.select(),personalprod.isSelect=!0};this.getAccountStatus=function(e,k,i,l){var g=$("accountStatus"),m=$("accountStatusMsg"),
q=$("accountExplain"),o=personalprod.personalprodServer+"home/queryUserStatus.json";"ipt-search-key"!=document.activeElement.id&&Loader.use(["arale.http"],function(){Ajax.jsonp(o,{success:function(j){var h=$("paymentForm"),f=$$(":submit",h)[0];f&&(f.removeAttrs("disabled"),f.parent().removeClass("ui-button-mdisable"),f.parent().addClass("ui-button-mblue"));try{j.releasedFlag?($("receiveNameAlert")[0].setAttribute("checked","checked"),$("receiveNameAlert")[0].checked=!0,$("receiveNameField").removeClass("fn-hide")):
($("receiveNameAlert")[0].removeAttribute("checked"),$("receiveNameAlert")[0].checked=!1,$("receiveNameField").addClass("fn-hide"))}catch(k){}j.releasedFlag&&(j.userInfo.accountStatCode="RECEIVER_IS_NOT_SAFETY",j.stat="ok");if("ok"==j.stat){console.log("ok");var h=j,i=h.userInfo.accountStatCode,o=$("amount");$("cellphone");$("cellphoneExplain");var p=$("cellphoneField"),n=$("smsAlert");b(p);n.node.checked=!1;"1"==h.showMobileNo&&1<=parseFloat(o.node.value)?(d(n.parent()),n.node.disabled="",n.removeClass("ft-gray")):
"0"==h.showMobileNo&&b(n.parent());if(i){r("warning",g);f&&(f.attr("disabled",""),f.parent().addClass("ui-button-mdisable"),f.parent().removeClass("ui-button-mblue"));"RECEIVER_DENY_RECEIVE"==i?personalprod.opent2tXbox=!0:"RECEIVER_DENY_RECEIVE_TC_OFF"==i&&r("error",g);j.releasedFlag&&(r("warning",g),h.msg="\u8be5\u624b\u673a\u53f7\u53d8\u66f4\u8fc7\u4e3b\u4eba\uff0c\u4e3a\u786e\u8ba4\u5bf9\u65b9\u8d26\u6237\u4fe1\u606f\uff0c\u8bf7\u8865\u5168\u5bf9\u65b9\u59d3\u540d\u5e76\u6838\u5b9e\u3002");if(("RECEIVER_DENY_RECEIVE"==
i||"TRANSFER_DUBIOUS_SEIZURED_USER"==i||j.releasedFlag)&&f)f.removeAttrs("disabled"),f.parent().removeClass("ui-button-mdisable"),f.parent().addClass("ui-button-mblue");d(g);b(q);m.node.innerHTML=h.msg;n&&p&&"true"==n.attr("isHide")&&"RECEIVER_DENY_RECEIVE"==i&&1<=parseFloat(o.node.value)&&(n.node.checked=!0,b(n.parent()),d(p))}else personalprod.opent2tXbox=!1,b(g),f=$("cellphone"),f.parent().removeClass("ui-form-error2"),$$(".ui-form-explain2",f.parent())[0].node.innerHTML=f.attr("ui-form-explain2")||
"",b(q),$("cellphone").attr("value","");h.userInfo?($("extraFee")&&""!=$("extraFee").attr("value")&&personalprod.calculateExtraFee($("amount").attr("value"),a),console.log(h.userInfo.account),s(e,h.userInfo.realname,e)):s(null,null,e);l&&l()}else"fail"==j.stat&&(console.log("fail"),console.log("fail\u8d26\u53f7\uff1a"+e),h=j,h.reason&&f&&"user_not_exist"==h.reason&&f.attr("disabled",""),"-1"==h.msg.indexOf("1000000")&&(v(),r("error",g),b(q),d(g),c.parent().addClass("ui-form-error2"),m.node.innerHTML=
h.msg),l&&l());j.rdsToken&&(form_token=j.rdsToken,UA_Opt.setToken(form_token),UA_Opt.reload())},failure:function(){},data:{timeSnap:(new Date).getTime(),ua:json_ua,rdsToken:form_token,account:e,userId:k}})})}};